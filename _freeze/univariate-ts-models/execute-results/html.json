{
  "hash": "f8ea4f69bbf6e833aa35124e57b95984",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Univariate TS Models (ARIMA/SARIMA)\"\ncode-fold: true\nexecute:\n  cache: true\n  freeze: auto\n---\n\n\n\n\n## Model Setup\n\nWe load daily data for Bitcoin, S&P 500, NASDAQ, VIX, and the USD Index from FRED and merge the valid series into a single cleaned dataset. Returns are computed using first-differenced log prices.\n\n::: {.panel-tabset}\n\n### Data Preparation\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(quantmod)\nlibrary(tidyverse)\nlibrary(zoo)\nlibrary(forecast)\nlibrary(tseries)\n\nstart_date <- as.Date(\"2019-01-01\")\nend_date   <- as.Date(\"2025-09-18\")\n\nload_fred_data <- function(symbol) {\n  tryCatch(\n    getSymbols(symbol, src = \"FRED\", from = start_date, to = end_date,\n               auto.assign = FALSE),\n    error = function(e) { cat(\"FAILED:\", symbol, \"\\n\"); NULL }\n  )\n}\n\nsp500_data  <- load_fred_data(\"SP500\")\nvix_data    <- load_fred_data(\"VIXCLS\")\nbtc_data    <- load_fred_data(\"CBBTCUSD\")\nnasdaq_data <- load_fred_data(\"NASDAQCOM\")\nusd_data    <- load_fred_data(\"DTWEXBGS\")\n\nmerge_list <- list(\n  SP500   = sp500_data,\n  VIX     = vix_data,\n  Bitcoin = btc_data,\n  NASDAQ  = nasdaq_data,\n  USD     = usd_data\n)\nmerge_list <- merge_list[!sapply(merge_list, is.null)]\n\nprice_zoo  <- do.call(merge.zoo, merge_list)\nprice_data <- fortify.zoo(price_zoo)\ncolnames(price_data) <- c(\"Date\", names(merge_list))\nprice_data <- price_data |> na.omit()\n\nget_series <- function(asset) price_data[[asset]]\nget_diff_series <- function(asset) diff(log(price_data[[asset]])) |> na.omit()\n\n\n\n\ncat(\n  \"\\n=== DATASET SUMMARY ===\\n\",\n  \"Observations : \", nrow(price_data), \"\\n\",\n  \"Assets Loaded: \", length(merge_list), \"\\n\",\n  \"Date Range   : \", min(price_data$Date), \" to \", max(price_data$Date), \"\\n\"\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n=== DATASET SUMMARY ===\n Observations :  1668 \n Assets Loaded:  5 \n Date Range   :  17898  to  20349 \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nassets <- names(merge_list)\n\narima_models <- list()\nsarima_models <- list()\n\nfor (a in assets) {\nseries <- get_diff_series(a)\n\narima_models[[a]] <- auto.arima(series, stepwise=TRUE, approximation=TRUE)\n\nsarima_models[[a]] <- auto.arima(series, seasonal=TRUE,\nstepwise=TRUE, approximation=TRUE)\n}\n```\n:::\n\n\n\n\n\n\nFor modeling, each asset is fit with an ARIMA/SARIMA model using auto.arima() for efficient order selection. Models are stored once and reused throughout the page for diagnostics, ACF/PACF inspection, forecasting, and benchmark comparisons. \n\n### Helper Functions\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_original_and_diff <- function(asset) {\n  \n  # Extract series\n  original <- price_data[[asset]]\n  dates    <- price_data$Date\n  diff_ser <- get_diff_series(asset)\n  \n  # Layout\n  par(mfrow = c(2, 1), mar = c(4, 4, 3, 1))\n  \n  # --- Original price plot ---\n  plot(dates, original, type = \"l\", col = \"steelblue\",\n       main = paste(asset, \"- Original Series\"),\n       xlab = \"Date\", ylab = \"Price Level\")\n  \n  # --- First difference plot (log returns) ---\n  plot(diff_ser, type = \"l\", col = \"red\",\n       main = paste(asset, \"- Log Returns (First Difference)\"),\n       xlab = \"Index\", ylab = \"Log Return\")\n  \n  # Reset layout\n  par(mfrow = c(1, 1))\n}\n\n\nrun_stationarity <- function(asset) {\nprint(adf.test(get_diff_series(asset)))\n}\n\nplot_acf_pacf <- function(asset) {\nseries <- get_diff_series(asset)\npar(mfrow=c(1,2))\nacf(series, main=paste(asset,\"ACF\"))\npacf(series, main=paste(asset,\"PACF\"))\npar(mfrow=c(1,1))\n}\n\nrun_arima_models <- function(asset) {\nprint(arima_models[[asset]])\n}\n\nrun_arima_diagnostics <- function(asset) {\ntsdiag(arima_models[[asset]])\n}\n\nforecast_arima_asset <- function(asset) {\nplot(forecast(arima_models[[asset]], h=30),\nmain=paste(asset,\"ARIMA Forecast\"))\n}\n\ncompare_benchmarks <- function(asset) {\n\n  s <- get_diff_series(asset)\n\n  f_naive  <- naive(s, h = 30)\n  f_snaive <- snaive(s, h = 30)\n  f_arima  <- forecast(arima_models[[asset]], h = 30)\n\n  results <- tibble(\n    Model = c(\"Naive\", \"Seasonal Naive\", \"ARIMA\"),\n    RMSE  = c(accuracy(f_naive)[,\"RMSE\"],\n              accuracy(f_snaive)[,\"RMSE\"],\n              accuracy(f_arima)[,\"RMSE\"]),\n    MAE   = c(accuracy(f_naive)[,\"MAE\"],\n              accuracy(f_snaive)[,\"MAE\"],\n              accuracy(f_arima)[,\"MAE\"]),\n    MAPE  = c(accuracy(f_naive)[,\"MAPE\"],\n              accuracy(f_snaive)[,\"MAPE\"],\n              accuracy(f_arima)[,\"MAPE\"])\n  )\n\n  print(results)\n\n  # --------------------------------------------------------------\n  # FIX: Extract safely and guarantee numeric, not NA, not ts\n  # --------------------------------------------------------------\n  arima_rmse <- suppressWarnings(as.numeric(results$RMSE[results$Model == \"ARIMA\"]))\n  best_bench <- suppressWarnings(as.numeric(min(results$RMSE[results$Model != \"ARIMA\"], na.rm = TRUE)))\n\n  # If still NA, replace with Inf so comparison will work\n  if (is.na(arima_rmse)) arima_rmse <- Inf\n  if (is.na(best_bench)) best_bench <- Inf\n\n  pct_diff <- 100 * (best_bench - arima_rmse) / best_bench\n\n  # --------------------------------------------------------------\n  # Interpretation\n  # --------------------------------------------------------------\n  cat(\"\\nInterpretation for\", asset, \"\\n\")\n\n  if (isTRUE(arima_rmse < best_bench)) {\n\n    cat(\n      \"ARIMA outperforms the benchmark models.\\n\",\n      \"It improves RMSE by\", round(pct_diff, 2), \"% relative to the best naive model.\\n\"\n    )\n\n  } else if (isTRUE(arima_rmse > best_bench)) {\n\n    cat(\n      \"ARIMA does NOT beat the benchmarks.\\n\",\n      \"It performs\", round(-pct_diff, 2), \"% worse than the best naive model.\\n\"\n    )\n\n  } else {\n\n    cat(\"ARIMA performs similarly to the naive benchmarks.\\n\")\n\n  }\n\n  invisible(results)\n}\n\n\n\nrun_sarima_models <- function(asset) {\nprint(sarima_models[[asset]])\n}\n\nforecast_sarima_asset <- function(asset) {\nplot(forecast(sarima_models[[asset]], h=30),\nmain=paste(asset,\"SARIMA Forecast\"))\n}\n\nseasonality_analysis <- function(asset) {\ns <- ts(get_diff_series(asset), frequency=365)\nplot(stl(s, \"periodic\"), main=paste(asset,\"Seasonality\"))\n}\n\n# FAST CV — no repeated auto.arima calls\n\ncross_validate_sarima <- function(asset) {\nseries <- ts(get_diff_series(asset))\nmodel <- sarima_models[[asset]]\nffun <- function(y, h) forecast(model, h=h)\ne <- tsCV(series, ffun, h=1)\nmean(e^2, na.rm=TRUE)\n}\n```\n:::\n\n\n\n\nWhat These Helper Functions Do\n\nThe following helper functions streamline the ARIMA/SARIMA workflow by wrapping common analysis steps into reusable tools:\n\n- **`plot_original_and_diff()`**  \n  Plots the raw price series and its first-differenced log returns to visualize stationarity and volatility changes.\n\n- **`run_stationarity()`**  \n  Runs the Augmented Dickey–Fuller (ADF) test on the differenced series to confirm stationarity before modeling.\n\n- **`plot_acf_pacf()`**  \n  Produces ACF and PACF plots of the return series, helping identify potential ARIMA orders.\n\n- **`run_arima_models()`**  \n  Prints the fitted ARIMA model for a selected asset.\n\n- **`run_arima_diagnostics()`**  \n  Displays residual diagnostics for the ARIMA model (autocorrelation, Ljung–Box tests).\n\n- **`forecast_arima_asset()`**  \n  Generates a 30-day ARIMA forecast with confidence intervals.\n\n- **`compare_benchmarks()`**  \n  Compares ARIMA forecasts to simple alternatives: Naive and Seasonal Naive models.\n\n- **`run_sarima_models()`**  \n  Prints the asset’s fitted SARIMA model (seasonal version).\n\n- **`forecast_sarima_asset()`**  \n  Produces a 30-day SARIMA forecast for comparison with ARIMA.\n\n- **`seasonality_analysis()`**  \n  Performs STL decomposition to examine seasonal effects in the differenced series.\n\n- **`cross_validate_sarima()`**  \n  Performs fast one-step-ahead cross-validation using a fixed SARIMA model (no repeated auto.arima calls).\n\nTogether, these utilities enable fast inspection, diagnostics, and forecasting for all assets without rewriting code for each analysis.\n\n\n:::\n\n## Univariate Time Series Analysis\n\n### Bitcoin\n\n::: {.panel-tabset}\n\n#### 1. Overview & Stationarity\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_original_and_diff(\"Bitcoin\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nrun_stationarity(\"Bitcoin\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tAugmented Dickey-Fuller Test\n\ndata:  get_diff_series(asset)\nDickey-Fuller = -10.968, Lag order = 11, p-value = 0.01\nalternative hypothesis: stationary\n```\n\n\n:::\n\n```{.r .cell-code}\nplot_acf_pacf(\"Bitcoin\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::\n\n\n\n\n#### 2. ARIMA\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrun_arima_models(\"Bitcoin\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: series \nARIMA(0,0,2) with non-zero mean \n\nCoefficients:\n          ma1     ma2   mean\n      -0.0521  0.0456  0.002\ns.e.   0.0245  0.0247  0.001\n\nsigma^2 = 0.001662:  log likelihood = 2970.24\nAIC=-5932.48   AICc=-5932.46   BIC=-5910.81\n```\n\n\n:::\n\n```{.r .cell-code}\nrun_arima_diagnostics(\"Bitcoin\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nforecast_arima_asset(\"Bitcoin\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::\n\n\n\n\n#### 3. SARIMA & Seasonality\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrun_sarima_models(\"Bitcoin\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: series \nARIMA(0,0,2) with non-zero mean \n\nCoefficients:\n          ma1     ma2   mean\n      -0.0521  0.0456  0.002\ns.e.   0.0245  0.0247  0.001\n\nsigma^2 = 0.001662:  log likelihood = 2970.24\nAIC=-5932.48   AICc=-5932.46   BIC=-5910.81\n```\n\n\n:::\n\n```{.r .cell-code}\nforecast_sarima_asset(\"Bitcoin\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nseasonality_analysis(\"Bitcoin\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n:::\n\n\n\n\n#### 4. Benchmarks & Cross-Validation\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  Model            RMSE    MAE  MAPE\n  <chr>           <dbl>  <dbl> <dbl>\n1 Naive          0.0592 0.0417  429.\n2 Seasonal Naive 0.0592 0.0417  429.\n3 ARIMA          0.0407 0.0270  120.\n\n--- Interpretation for Bitcoin ---\nARIMA outperforms the benchmark models.\n It improves RMSE by 31.25 % relative to the best naive model.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncv_btc <- cross_validate_sarima(\"Bitcoin\")\n\ncat(\n  \"SARIMA Cross-Validation (Bitcoin)\\n\",\n  \"RMSE:\", format(round(cv_btc, 6), nsmall = 6), \"\\n\"\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSARIMA Cross-Validation (Bitcoin)\n RMSE: 0.001668 \n```\n\n\n:::\n:::\n\n\n\n\n:::\n\n\n\n### S&P 500\n\n::: {.panel-tabset}\n\n#### 1. Overview & Stationarity\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_original_and_diff(\"SP500\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n\n```{.r .cell-code}\nrun_stationarity(\"SP500\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tAugmented Dickey-Fuller Test\n\ndata:  get_diff_series(asset)\nDickey-Fuller = -11.102, Lag order = 11, p-value = 0.01\nalternative hypothesis: stationary\n```\n\n\n:::\n\n```{.r .cell-code}\nplot_acf_pacf(\"SP500\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-9-2.png){width=672}\n:::\n:::\n\n\n\n\n#### 2. ARIMA\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrun_arima_models(\"SP500\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: series \nARIMA(2,0,2) with non-zero mean \n\nCoefficients:\n          ar1      ar2     ma1    ma2   mean\n      -1.7294  -0.8777  1.6072  0.739  6e-04\ns.e.   0.0270   0.0263  0.0375  0.036  3e-04\n\nsigma^2 = 0.0001523:  log likelihood = 4963.14\nAIC=-9914.28   AICc=-9914.23   BIC=-9881.76\n```\n\n\n:::\n\n```{.r .cell-code}\nrun_arima_diagnostics(\"SP500\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n\n```{.r .cell-code}\nforecast_arima_asset(\"SP500\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-10-2.png){width=672}\n:::\n:::\n\n\n\n\n\n\n#### 3. SARIMA & Seasonality\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrun_sarima_models(\"SP500\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: series \nARIMA(2,0,2) with non-zero mean \n\nCoefficients:\n          ar1      ar2     ma1    ma2   mean\n      -1.7294  -0.8777  1.6072  0.739  6e-04\ns.e.   0.0270   0.0263  0.0375  0.036  3e-04\n\nsigma^2 = 0.0001523:  log likelihood = 4963.14\nAIC=-9914.28   AICc=-9914.23   BIC=-9881.76\n```\n\n\n:::\n\n```{.r .cell-code}\nforecast_sarima_asset(\"SP500\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n\n```{.r .cell-code}\nseasonality_analysis(\"SP500\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-11-2.png){width=672}\n:::\n:::\n\n\n\n\n\n#### Benchmarks & Cross-Validation\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  Model            RMSE     MAE  MAPE\n  <chr>           <dbl>   <dbl> <dbl>\n1 Naive          0.0196 0.0122   796.\n2 Seasonal Naive 0.0196 0.0122   796.\n3 ARIMA          0.0123 0.00830  238.\n\nInterpretation for SP500 ---\nARIMA outperforms the benchmark models.\n It improves RMSE by 37.05 % relative to the best naive model.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncv_spx <- cross_validate_sarima(\"SP500\")\n\ncat(\n  \" SARIMA Cross-Validation (S&P 500)\\n\",\n  \"RMSE:\", format(round(cv_spx, 6), nsmall = 6), \"\\n\"\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n SARIMA Cross-Validation (S&P 500)\n RMSE: 0.000166 \n```\n\n\n:::\n:::\n\n\n\n:::\n\n### NASDAQ\n::: {.panel-tabset}\n\n#### 1. Overview & Stationarity\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_original_and_diff(\"NASDAQ\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n\n```{.r .cell-code}\nrun_stationarity(\"NASDAQ\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tAugmented Dickey-Fuller Test\n\ndata:  get_diff_series(asset)\nDickey-Fuller = -10.895, Lag order = 11, p-value = 0.01\nalternative hypothesis: stationary\n```\n\n\n:::\n\n```{.r .cell-code}\nplot_acf_pacf(\"NASDAQ\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-14-2.png){width=672}\n:::\n:::\n\n\n\n\n#### 2. ARIMA\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrun_arima_models(\"NASDAQ\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: series \nARIMA(4,0,3) with non-zero mean \n\nCoefficients:\n          ar1      ar2     ar3      ar4     ma1      ma2      ma3   mean\n      -1.2080  -0.0310  0.3812  -0.0346  1.1052  -0.0426  -0.3773  7e-04\ns.e.   0.3762   0.6532  0.3422   0.0297  0.3759   0.6121   0.2943  3e-04\n\nsigma^2 = 0.0002289:  log likelihood = 4625.12\nAIC=-9232.24   AICc=-9232.13   BIC=-9183.47\n```\n\n\n:::\n\n```{.r .cell-code}\nrun_arima_diagnostics(\"NASDAQ\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#| warning: false\n#| message: false\n\nforecast_arima_asset(\"NASDAQ\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-15-2.png){width=672}\n:::\n:::\n\n\n\n\n\n#### 3. SARIMA & Seasonality\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrun_sarima_models(\"NASDAQ\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: series \nARIMA(4,0,3) with non-zero mean \n\nCoefficients:\n          ar1      ar2     ar3      ar4     ma1      ma2      ma3   mean\n      -1.2080  -0.0310  0.3812  -0.0346  1.1052  -0.0426  -0.3773  7e-04\ns.e.   0.3762   0.6532  0.3422   0.0297  0.3759   0.6121   0.2943  3e-04\n\nsigma^2 = 0.0002289:  log likelihood = 4625.12\nAIC=-9232.24   AICc=-9232.13   BIC=-9183.47\n```\n\n\n:::\n\n```{.r .cell-code}\nforecast_sarima_asset(\"NASDAQ\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n\n```{.r .cell-code}\nseasonality_analysis(\"NASDAQ\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-16-2.png){width=672}\n:::\n:::\n\n\n\n\n#### Benchmarks & Cross-Validation\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  Model            RMSE    MAE  MAPE\n  <chr>           <dbl>  <dbl> <dbl>\n1 Naive          0.0233 0.0157  653.\n2 Seasonal Naive 0.0233 0.0157  653.\n3 ARIMA          0.0151 0.0107  188.\n\nInterpretation for NASDAQ ---\nARIMA outperforms the benchmark models.\n It improves RMSE by 35.35 % relative to the best naive model.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncv_nasdaq <- cross_validate_sarima(\"NASDAQ\")\n\ncat(\n  \"SARIMA Cross-Validation (NASDAQ)\\n\",\n  \"RMSE:\", format(round(cv_nasdaq, 6), nsmall = 6), \"\\n\"\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSARIMA Cross-Validation (NASDAQ)\n RMSE: 0.000242 \n```\n\n\n:::\n:::\n\n\n\n:::\n\n\n### VIX\n::: {.panel-tabset}\n\n#### 1. Time Series + First Difference\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_original_and_diff(\"VIX\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n\n```{.r .cell-code}\nrun_stationarity(\"VIX\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tAugmented Dickey-Fuller Test\n\ndata:  get_diff_series(asset)\nDickey-Fuller = -13.2, Lag order = 11, p-value = 0.01\nalternative hypothesis: stationary\n```\n\n\n:::\n\n```{.r .cell-code}\nplot_acf_pacf(\"VIX\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-19-2.png){width=672}\n:::\n:::\n\n\n\n\n#### 2. ARIMA\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrun_arima_models(\"VIX\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: series \nARIMA(3,0,1) with zero mean \n\nCoefficients:\n         ar1     ar2      ar3      ma1\n      0.8842  0.0692  -0.0050  -0.9862\ns.e.  0.0285  0.0328   0.0258   0.0148\n\nsigma^2 = 0.006164:  log likelihood = 1878.16\nAIC=-3746.32   AICc=-3746.28   BIC=-3719.22\n```\n\n\n:::\n\n```{.r .cell-code}\nrun_arima_diagnostics(\"VIX\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n\n```{.r .cell-code}\nforecast_arima_asset(\"VIX\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-20-2.png){width=672}\n:::\n:::\n\n\n\n\n\n\n#### 3. SARIMA & Seasonality\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrun_sarima_models(\"VIX\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: series \nARIMA(3,0,1) with zero mean \n\nCoefficients:\n         ar1     ar2      ar3      ma1\n      0.8842  0.0692  -0.0050  -0.9862\ns.e.  0.0285  0.0328   0.0258   0.0148\n\nsigma^2 = 0.006164:  log likelihood = 1878.16\nAIC=-3746.32   AICc=-3746.28   BIC=-3719.22\n```\n\n\n:::\n\n```{.r .cell-code}\n#| warning: false\n#| message: false\nforecast_sarima_asset(\"VIX\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#| warning: false\n#| message: false\nseasonality_analysis(\"VIX\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-21-2.png){width=672}\n:::\n:::\n\n\n\n\n#### Benchmarks & Cross-Validation\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  Model            RMSE    MAE  MAPE\n  <chr>           <dbl>  <dbl> <dbl>\n1 Naive          0.117  0.0816   Inf\n2 Seasonal Naive 0.117  0.0816   Inf\n3 ARIMA          0.0784 0.0543   Inf\n\nInterpretation for VIX ---\nARIMA outperforms the benchmark models.\n It improves RMSE by 32.91 % relative to the best naive model.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncv_vix <- cross_validate_sarima(\"VIX\")\n\ncat(\n  \" SARIMA Cross-Validation (VIX)\\n\",\n  \"RMSE:\", format(round(cv_vix, 6), nsmall = 6), \"\\n\"\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n SARIMA Cross-Validation (VIX)\n RMSE: 0.006289 \n```\n\n\n:::\n:::\n\n\n\n:::\n\n\n### USD\n::: {.panel-tabset}\n\n#### 1. Time Series + First Difference\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_original_and_diff(\"USD\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#| warning: false\n#| message: false\nrun_stationarity(\"USD\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tAugmented Dickey-Fuller Test\n\ndata:  get_diff_series(asset)\nDickey-Fuller = -11.44, Lag order = 11, p-value = 0.01\nalternative hypothesis: stationary\n```\n\n\n:::\n\n```{.r .cell-code}\n#| warning: false\n#| message: false\nplot_acf_pacf(\"USD\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-24-2.png){width=672}\n:::\n:::\n\n\n\n\n#### 2. ARIMA\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrun_arima_models(\"USD\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: series \nARIMA(0,0,1) with zero mean \n\nCoefficients:\n         ma1\n      0.0482\ns.e.  0.0242\n\nsigma^2 = 1.02e-05:  log likelihood = 7214.27\nAIC=-14424.55   AICc=-14424.54   BIC=-14413.71\n```\n\n\n:::\n\n```{.r .cell-code}\n#| warning: false\n#| message: false\nrun_arima_diagnostics(\"USD\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#| warning: false\n#| message: false\nforecast_arima_asset(\"USD\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-25-2.png){width=672}\n:::\n:::\n\n\n\n\n\n#### 3. SARIMA & Seasonality\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrun_sarima_models(\"USD\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: series \nARIMA(0,0,1) with zero mean \n\nCoefficients:\n         ma1\n      0.0482\ns.e.  0.0242\n\nsigma^2 = 1.02e-05:  log likelihood = 7214.27\nAIC=-14424.55   AICc=-14424.54   BIC=-14413.71\n```\n\n\n:::\n\n```{.r .cell-code}\nforecast_sarima_asset(\"USD\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n\n```{.r .cell-code}\nseasonality_analysis(\"USD\")\n```\n\n::: {.cell-output-display}\n![](univariate-ts-models_files/figure-html/unnamed-chunk-26-2.png){width=672}\n:::\n:::\n\n\n\n\n#### 4. Benchmarks & Cross-Validation\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  Model             RMSE     MAE  MAPE\n  <chr>            <dbl>   <dbl> <dbl>\n1 Naive          0.00441 0.00330  470.\n2 Seasonal Naive 0.00441 0.00330  470.\n3 ARIMA          0.00319 0.00236  109.\n\nInterpretation for USD ---\nARIMA outperforms the benchmark models.\n It improves RMSE by 27.56 % relative to the best naive model.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncv_usd <- cross_validate_sarima(\"USD\")\n\ncat(\n  \"SARIMA Cross-Validation (USD)\\n\",\n  \"RMSE:\", format(round(cv_usd, 6), nsmall = 6), \"\\n\"\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSARIMA Cross-Validation (USD)\n RMSE: 1e-05 \n```\n\n\n:::\n:::\n\n\n\n\n:::\n\nAll return series show minimal autocorrelation, consistent with financial market efficiency. Bitcoin fits a simple ARMA(1,0), SPX fits ARMA(2,1), VIX requires a more complex ARMA(3,4), and USD behaves like pure noise. In short, daily returns are almost unpredictable, and models capture only very small short-term dynamics.\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}